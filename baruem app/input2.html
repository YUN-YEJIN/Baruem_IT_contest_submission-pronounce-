<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=412, user-scalable=no" />
  <title>직접 입력</title>
  <link rel="stylesheet" href="main.css" />
  <link rel="stylesheet" href="direct_input.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />
  <link href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard/dist/web/static/pretendard.css" rel="stylesheet" />
</head>
<body>
  <div class="fixed-screen">
    <div class="direct-wrapper">
      
      <!-- 상단 헤더 -->
      <div class="direct-top">
        <i class="fa-solid fa-chevron-left back-icon"></i>
        <span class="title">직접 입력</span>
      </div>

      <!-- 메인 콘텐츠 -->
      <div class="direct-content">

        <!-- ✅ white-area: 곰돌이만 포함 -->
        <div class="white-area">
          <div class="white-inner">
            <div class="voice-circle">
              <img src="bear_glasses.png" alt="bear icon" class="character-img" />
            </div>
          </div>
        </div>

        <!-- ✅ 검색창 (곰돌이 바깥) -->
        <div class="input-box" id="searchSection">
          <p class="input-description">발음이 궁금한 단어를 적어주세요</p>
          <form class="input-wrapper" onsubmit="event.preventDefault()">
            <input type="text" class="search-input" placeholder="" />
            <i class="fa-solid fa-magnifying-glass search-icon"></i>
          </form>
        </div>

        <!-- ✅ 결과창 (곰돌이 바깥) -->
        <div class="result-container" id="resultSection" style="display: none;">
  <p class="listen-description">올바른 발음을 듣고 발음 연습을 해보아요</p>
  <p class="result-word" id="resultWord">덮밥</p>

  <div class="listen-label">
    <i class="fa-solid fa-headphones-simple"></i>
    <span>발음 듣기</span>
  </div>

  <div class="rate-buttons">
    <button onclick="playTTS(1)">x1</button>
    <button onclick="playTTS(0.7)">x0.7</button>
    <button onclick="playTTS(0.5)">x0.5</button>
  </div>
</div>


      </div>
    </div>
  </div>

  <script>
    const searchInput = document.querySelector('.search-input');
    const searchIcon = document.querySelector('.search-icon');
    const resultWord = document.getElementById('resultWord');
    const searchSection = document.getElementById('searchSection');
    const resultSection = document.getElementById('resultSection');
    const backIcon = document.querySelector('.back-icon');

    let currentWord = '';

    searchIcon.addEventListener('click', () => {
      const word = searchInput.value.trim();
      if (!word) return;

      currentWord = word;
      resultWord.textContent = word;

      searchSection.style.display = 'none';
      resultSection.style.display = 'block';
    });

    backIcon.addEventListener('click', () => {
  window.location.href = 'analysis.html';
});


    function playTTS(rate) {
      if (!currentWord) return;

      const utterance = new SpeechSynthesisUtterance(currentWord);
      utterance.lang = "ko-KR";
      utterance.rate = rate;
      speechSynthesis.speak(utterance);
    }
  </script>
</body>
</html>
